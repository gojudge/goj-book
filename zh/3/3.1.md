## 3.1 协议综述

客户端与judger服务器通讯有TCP常连接方式和HTTP方式，不过两种连接方式中传输的内容都是基于纯文本的并且文本格式都是基于json格式的。

对于TCP连接方式，在传输流中，每一次传输的流的结尾处都有一个结束标识符，以便接收端做出传输完毕的判断，这个传输符规定默认是ASCII码中的'\003'，其为不可见字符，不过在windows命令行上会显示为一个心形字符()，不过经过客户端api封装处理后用户可以不理会这些细节，只需要了解传输的正文json就可以。

对于HTTP协议的传输，客户端应当使用post方式向服务器端发送请求，并且请求的内容以json的格式编码，json编码的内容应当处于HTTP request的body部分。

对于TCP协议和HTTP协议中服务器端返回的内容大致上是一致的，只有一些细节不同，对于HTTP协议的传输来说检测连接是否存活的Ping/Pong通讯是无意义的，因此无需Ping。同样，HTTP协议通讯每一次发送的内容中都需要包含password和sid，以便服务端验证是合法用户访问judger，总之对于HTTP的通讯规范类似于[jsonrpc](http://www.jsonrpc.org/specification)协议。
